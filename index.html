<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Codtage</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Codtage">
<meta property="og:url" content="http://www.codtage.com/index.html">
<meta property="og:site_name" content="Codtage">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Codtage">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Codtage" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Codtage</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://www.codtage.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-two-num" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/07/two-num/" class="article-date">
  <time datetime="2015-05-07T02:42:49.000Z" itemprop="datePublished">2015-05-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/07/two-num/">two-num</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Problem:</strong></p>
<p>Given an array of integers, find two numbers such that they add up to a specific target number.</p>
<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>
<p>You may assume that each input would have exactly one solution.</p>
<p>Input: numbers={2, 7, 11, 15}, target=9<br>Output: index1=1, index2=2</p>
<p><strong>Code</strong></p>
<pre><code>
class Solution:
        # @param {integer[]} nums
        # @param {integer} target
        # @return {integer[]}
        def twoSum(self, nums, target):
            m_dict = {}
            result = []
            index = 1
            for num in nums:
                m_dict[num] = []
                m_dict[num].append(index)
                index += 1
            index = 1
            for num in nums:
                tmp = target - num
                if m_dict.has_key(tmp):
                    for i in m_dict[tmp]:
                        if i > index:
                            result.append(index)                                                                                                                                                        
                            result.append(i)
                index += 1
            return result
</code></pre>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.codtage.com/2015/05/07/two-num/" data-id="ci9dl8pbg0006ncd2dlzgnibz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-longest-substring-without-repeating-characters" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/07/longest-substring-without-repeating-characters/" class="article-date">
  <time datetime="2015-05-07T02:42:42.000Z" itemprop="datePublished">2015-05-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/07/longest-substring-without-repeating-characters/">Longest Substring Without Repeating Characters</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Problem:</strong><br>Given a string, find the length of the longest substring without repeating characters. For example, the longest substring without repeating letters for “abcabcbb” is “abc”, which the length is 3. For “bbbbb” the longest substring is “b”, with the length of 1.</p>
<p><strong>Code:</strong></p>
<pre><code>

class Solution:
    # @param {string} s
    # @return {integer}
    def lengthOfLongestSubstring(self, s): 
        length = 0 
        flength = 0 
        index = 0 
        start = 0
        bstart = 0
        dic = {}
        while index < len(s):
            if not dic.has_key(s[index]):
                dic[s[index]] = index
                length +=1
            else:
                bstart = start
                start = dic[s[index]]+1
                flength = max(flength, length)
                length = index-start+1
                for i in range(bstart,start):
                    del dic[s[i]]
                dic[s[index]] = index
            index += 1
            flength = max(flength, length)
        return flength

</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.codtage.com/2015/05/07/longest-substring-without-repeating-characters/" data-id="ci9dl8pcn000pncd2jf5wwgux" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-vast-introduction" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/15/vast-introduction/" class="article-date">
  <time datetime="2015-04-15T07:03:07.000Z" itemprop="datePublished">2015-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/15/vast-introduction/">VAST协议简介</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>VAST是一个用于在ad servers和video players之间传递广告数据的平台无关的视频广告服务协议。就像网页广告用HTML来提供服务一样，VAST使用XML来提供服务。</p>
<p>VAST是平台无关的，所有支持VAST文档处理的播放器或者服务器都能使用VAST协议。</p>
<p>VAST广告服务的处理流程大致如下：<br><img src="/pic/VAST_process.png" alt="VAST服务处理流程" title="VAST_Process"></p>
<p>术语</p>
<p>随着视频广告行业的发展，某些术语已经得到了广泛的采用。以下定义该文档中与视频广告投放相关的一些术语：</p>
<p><strong>广告荚（Ad Pod）：</strong>广告荚是一序列线性广告（Linear ads ）来回播放，像多个电视插播广告，属于一个商业的暂停休息。<br><strong>伴随广告（Companion Ad）：</strong>通常是页面的显示横幅广告（banner）或富媒体（rich media）广告，这些广告出现在视频播放器之外。伴随广告在相关In-Stream广告结束后，可能继续会留在页面上。一个伴随广告，也可以是一个嵌入到视频体验所设计的皮肤。<br><strong>点击（Clickthrough）：</strong>当用户点击广告创意时，URL打开的页面。<br><strong>线内广告（InLine Ad）：</strong>一个包含视频广告显示需要的所有信息的VAST广告响应。VAST的线内广告收到响应后，无需调用其他所需要的广告服务器。<br><strong>流内广告（In-Stream Ad）：</strong>视频播放器里面出现的任何广告，无论是图像叠加或线性视频广告，例如在一个30秒的广告位置播放广告。<br><strong>线性广告（Linear Ad）：</strong>像电视广告在播放节目之前出现广告（pre-roll），在节目中间休息期播放广告（mid-roll）或者在节目播放完之后出现广告（post-roll）。 线性广告可以是视频，富媒体或静止图像广告。使用API或其他技术，线性广告可以变得有互动性，当一个用户有互动行为时，广告时间可以延长。<br><strong>主广告（Master Ad）：</strong>视频广告系列包括流内广告（In-Stream ad）加上一个或多个伴随广告（Companion Ads），流内广告（In-Stream ad）部分被称为作为主广告。在这个主同伴关系，必须始终显示主广告（也就是说In-Stream ad必须显示）。<br><strong>非线性广告（Nonlinear Ad）：</strong>是In-Stream广告，与视频内容播放同时显示。非线性广告通常覆盖视频播放器的底部或顶部的五分之一，可以是文本、图像或互动广告。使用API或其他技术，视频播放器可以允许用户发起的交互行为时暂停内容的播放。非线性广告只能出现在内容视频开始和结束之间的某一点（中旬辊位置），如果没有什么互动，广告一般10-20秒后消失。<br><strong>叠加式广告（Overlay Ad）：</strong>在视频内容上显示图像或者文字，类似非线性广告，通常也被称为简单的“非线性广告”，然而非线性广告还可能包括非重叠格式形式，它在视频播放器不覆盖任何视频内容内的投放。<br><strong>主广告服务器（Primary Ad Server）：</strong>视频播放器调请求广告内容的第一个广告服务器。主广告服务器通常是由publisher的广告服务器。<br><strong>二级广告服务器（Secondary Ad Server）：</strong>从主广告服务器（primary ad server）收到重定向的VAST（包装广告，VAST redirect）响应后，播放器再调用的广告服务器。二级广告服务器可能包括广告代理或广告网络服务器。此外，二级广告服务器可以将视频播放器重定向到第三个广告服务器，以及第三级广告服务器可以重定向到第四级，以此类推。最终，广告服务器必须提供一个VAST响应，其中包括所有需要显示广告的创意元素。<br><strong>VAMG（Video Ad Measurement Guidelines）：</strong>视频广告测量指南，它定义了一套在播放视频广告时应跟踪的事件。<br><strong>VAST（Video Ad Serving Template）：</strong>视频广告投放模板，描述了视频广告响应的XML结构。 VAST使广告响应可以用于来自任何广告服务器。<br><strong>VAST Redirect（VAST重定向）：</strong>一个VAST广告响应指向另一个VAST响应（有时称为作为下游VAST响应）。<br><strong>VAST Tag（VAST标签）：</strong>当被调用时返回含有VAST响应的URI。<br><strong>Video Ad（视频广告）：</strong>在视频中显示的任何广告。视频体验可能包括横幅视频（in- banner video），文本视频（in-text video），视频流（in-stream video）等格式。VAST仅适用于在视频流中，视频播放器是用来管理独立于任何其他内容的视频体验。例如，广告横幅中的视频被认为是富媒体，这部分不在VAST的指导方针里面。<br><strong>Video Player（视频播放）：</strong>用于管理视频体验视频播放环境。视频播放器由在线视频平台（OVP）供应商所提供的，或者可以由publisher自定义建立。<br><strong>VMAP（Video Multi Ads Playlist）：</strong>视频多广告播放列表，描述了从广告服务器传送给播放器的视频广告播放列表的XML格式。<br><strong>VPAID（Video Player Ad Interface Definition）：</strong>视频播放器广告接口定义，它定义一个广告和视频播放器之间的通信协议。<br><strong>Wrapper（包装）：</strong>在VAST的背景下，一个包装就是一个响应，它提供了视频播放器使用所调用一个二次VAST回应的URI。二级响应可能会是另一种包装或一个VAST线内（inLine）响应。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.codtage.com/2015/04/15/vast-introduction/" data-id="ci9dl8pbb0003ncd2u5qmi3uy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VAST3-0/">VAST3.0</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mobile-dsp-tracking" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/06/mobile-dsp-tracking/" class="article-date">
  <time datetime="2015-04-06T15:00:47.000Z" itemprop="datePublished">2015-04-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/06/mobile-dsp-tracking/">效果跟踪模块介绍</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>功能介绍</strong></p>
<p><strong>实现难点</strong></p>
<p><strong>流程图</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.codtage.com/2015/04/06/mobile-dsp-tracking/" data-id="ci9dl8pbn000cncd23rmgct0g" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DSP/">DSP</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mobile-dsp-pricing" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/06/mobile-dsp-pricing/" class="article-date">
  <time datetime="2015-04-06T14:59:37.000Z" itemprop="datePublished">2015-04-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/06/mobile-dsp-pricing/">出价策略介绍</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>出价策略综述</strong></p>
<p><strong>不同出价策略介绍</strong><br><em>Lin</em><br><em>MCPC</em><br><em>ORTB</em><br><em>const</em></p>
<p><strong>效果比较</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.codtage.com/2015/04/06/mobile-dsp-pricing/" data-id="ci9dl8pbt000fncd2rft0kntq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DSP/">DSP</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mobile-dsp-ctr" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/06/mobile-dsp-ctr/" class="article-date">
  <time datetime="2015-04-06T14:59:31.000Z" itemprop="datePublished">2015-04-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/06/mobile-dsp-ctr/">CTR预测</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>原理</strong></p>
<ol>
<li>FTRL</li>
<li>权值表</li>
<li>不同ADX建模</li>
</ol>
<p><strong>实现</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.codtage.com/2015/04/06/mobile-dsp-ctr/" data-id="ci9dl8pc6000jncd2qyd2rsha" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DSP/">DSP</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mobile-dsp-bk" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/06/mobile-dsp-bk/" class="article-date">
  <time datetime="2015-04-06T14:59:21.000Z" itemprop="datePublished">2015-04-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/06/mobile-dsp-bk/">预算控制服务器介绍</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>功能介绍</strong></p>
<ol>
<li>广告投放活动的预算控制。</li>
<li>广告投放的频次控制。</li>
<li>实时报表的生成。</li>
<li>跨国节点的数据同步。</li>
</ol>
<p><strong>实现难点</strong></p>
<ol>
<li>预算到达上限后需要及时通知竞价服务器停止参与广告的竞价。<br>解决方法：通过将预算控制服务器和竞价服务器放置在同一机房，保证网络传输的稳定。</li>
<li>广告的投放量很大，需要有一个比较好的方法能记录针对每个用户的投放数量。用户数量在亿级别。<br>解决方法：通过使用Bloom Filter来存储每个用户的投放数量，同时每天清空Bloom Filter.</li>
<li>由于国内到国外网络的环境不稳定，需要有一种可靠的方案能保证数据同步。<br>解决方法：通过使用RSync来同步日志文件，保证数据同步。</li>
</ol>
<p><strong>流程图</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.codtage.com/2015/04/06/mobile-dsp-bk/" data-id="ci9dl8pcb000lncd21y7ku53c" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DSP/">DSP</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-linux-chinese-locale" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/03/17/linux-chinese-locale/" class="article-date">
  <time datetime="2015-03-17T07:36:25.000Z" itemprop="datePublished">2015-03-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/17/linux-chinese-locale/">解决Ubuntu中文乱码</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Setp1:<br>修改/var/lib/locales/supported.d/local内容为zh_CN.UTF-8 UTF-8</p>
<p>Setp2:<br>修改/etc/default/locale内容为:<br>LANG=”zh_CN.UTF-8”<br>LANGUAGE=”zh_CN:”</p>
<p>Setp3:<br>执行sudo locale-gen</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.codtage.com/2015/03/17/linux-chinese-locale/" data-id="ci9dl8pcs000rncd2lt8ocjxr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu疑难杂症/">Ubuntu疑难杂症</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mobile-dsp-bidder" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/02/19/mobile-dsp-bidder/" class="article-date">
  <time datetime="2015-02-19T06:19:08.000Z" itemprop="datePublished">2015-02-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/02/19/mobile-dsp-bidder/">竞价服务器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>竞价服务器负责参与RTB的广告竞价。根据广告主的各种定向条件筛选出合适的广告位，并进行竞价。由于竞价服务器处于与AD Exchange直接进行交互的位置，所以DSP后续功能中所需要的关于流量、关于AD Exchange的信息都由竞价服务器进行记录。<br>竞价服务器的主要功能有以下几点：</p>
<ol>
<li>支持不同AD Exchange的协议。主要有OpenRTB和DoubleClick协议。</li>
<li>对海量的广告位进行快速的筛选，并进行竞价。</li>
<li>记入所有的广告位信息供后续模块使用。</li>
<li>统计基本投放情况已供运营及开发人员查看。</li>
<li>用户重定向功能。</li>
</ol>
<p>竞价服务器的主要难点：</p>
<ol>
<li>不同的AD Exchange的协议都有自己的特殊扩展和特点，统一到同一个内部协议需要做很多转换。</li>
<li>由于RTB要求在200ms内返回响应，同时广告位的数据量非常大，所以要求竞价服务器能尽快的处理每一个请求。</li>
<li>海量的广告位发送过来后，全部记录下来会造成较大的IO负载。</li>
<li>用户重定向功能中需要快速的检索几亿的用户IDFA，需要一个快速的检索工具。</li>
</ol>
<p>竞价服务器的处理流程：<br><img src="/pic/DSP_Bidder.png" alt="Bidder处理流程" title="DSP Modules"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.codtage.com/2015/02/19/mobile-dsp-bidder/" data-id="ci9dl8pcj000nncd2vjg2h1mm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DSP/">DSP</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-null-struct" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/02/07/null-struct/" class="article-date">
  <time datetime="2015-02-07T02:31:40.000Z" itemprop="datePublished">2015-02-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/02/07/null-struct/">空结构体大小[转]</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>转自：<a href="http://www.spongeliu.com/260.html" target="_blank" rel="external">http://www.spongeliu.com/260.html</a></p>
<p>对于结构体和空类大小是1这个问题，首先这是一个C++问题，在C语言下空结构体大小为0(当然这是编译器相关的)。这里的空类和空结构体是指类或结构体中没有任何成员。<br>在C++下，空类和空结构体的大小是1（编译器相关），这是为什么呢？为什么不是0？<br>这是因为，C++标准中规定，“no object shall have the same address in memory as any other variable” ，就是任何不同的对象不能拥有相同的内存地址。 如果空类大小为0，若我们声明一个这个类的对象数组，那么数组中的每个对象都拥有了相同的地址，这显然是违背标准的。<br>但是，也许你还有一个疑问，为什么C++标准中会有这么无聊的规定呢？<br>当然，这样规定显然是有原因的。我们假设C++中有一个类型T，我们声明一个类型T的数组，然后再声明一个T类型的指针指向数组中间某个元素，则我们将指针减去1，应该得到数组的另一个索引。如下代码：</p>
<pre><code>

T array[5];

int diff = &array[3] - &array[2];

// diff = 1

</code></pre>

<p>上面的代码是一种指针运算，将两个指针相减，编译器作出如下面式子所示的动作：<br>diff = ((char <em>)&amp;array[3] - (char </em>)&amp;array[2]) / sizeof T;<br>式子应该不难懂把，很明显的一点就是这个式子的计算依赖于sizeof T。虽然上面只是一个例子，但是基本上所有的指针运算都依赖于sizeof T。<br>好，下面我们来看，如果允许不同的对象有相同的地址将会引发什么样的问题，看下面的例子：</p>
<pre><code>
 &array[3] - &array[2] = &array[3] - &array[1]
                       = &array[3] - &array[1]
                       = &array[3] - &array[0]
                       = 0
</code></pre>

<p>我们可以看到，在这个例子中，如果每个对象都拥有相同地址，我们将没有办法通过指针运算来区分不同的对象。还有一个更严重的问题，就是如果 sizeof T是0，就会导致编译器产生一个除0的操作，引发不可控的错误。<br>基于这个原因，如果允许结构体或者类的大小为0，编译器就需要实现一些复杂的代码来处理这些异常的指针运算。<br>所以，C++标准规定不同的对象不能拥有相同的地址。那么怎样才能保证这个条件被满足呢？最简单的方法莫过于不允许任何类型的大小为0。所以编译器为每个空类或者空结构体都增加了一个虚设的字节（有的编译器可能加的更多），这样这些空类和空结构的大小就不会是0，就可以保证他们的对象拥有彼此独立的地址。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.codtage.com/2015/02/07/null-struct/" data-id="ci9dl8pbk0009ncd2tj2wtnlo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DSP/">DSP</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu疑难杂症/">Ubuntu疑难杂症</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VAST3-0/">VAST3.0</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/">leetcode</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 10px;">C++</a><a href="/tags/DSP/" style="font-size: 20px;">DSP</a><a href="/tags/Ubuntu疑难杂症/" style="font-size: 10px;">Ubuntu疑难杂症</a><a href="/tags/VAST3-0/" style="font-size: 10px;">VAST3.0</a><a href="/tags/leetcode/" style="font-size: 15px;">leetcode</a><a href="/tags/vim/" style="font-size: 10px;">vim</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/05/07/two-num/">two-num</a>
          </li>
        
          <li>
            <a href="/2015/05/07/longest-substring-without-repeating-characters/">Longest Substring Without Repeating Characters</a>
          </li>
        
          <li>
            <a href="/2015/04/15/vast-introduction/">VAST协议简介</a>
          </li>
        
          <li>
            <a href="/2015/04/06/mobile-dsp-tracking/">效果跟踪模块介绍</a>
          </li>
        
          <li>
            <a href="/2015/04/06/mobile-dsp-pricing/">出价策略介绍</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Will<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>